---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.11.3
  creationTimestamp: null
  name: proxmoxclustertemplates.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    kind: ProxmoxClusterTemplate
    listKind: ProxmoxClusterTemplateList
    plural: proxmoxclustertemplates
    singular: proxmoxclustertemplate
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: ProxmoxClusterTemplate is the Schema for the proxmoxclustertemplates
          API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ProxmoxClusterTemplateSpec defines the desired state of ProxmoxClusterTemplate
            properties:
              template:
                description: ProxmoxClusterTemplateResource defines the spec and metadata
                  for ProxmoxClusterTemplate supported by capi.
                properties:
                  metadata:
                    description: 'Standard object''s metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata'
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: 'Annotations is an unstructured key value map
                          stored with a resource that may be set by external tools
                          to store and retrieve arbitrary metadata. They are not queryable
                          and should be preserved when modifying objects. More info:
                          http://kubernetes.io/docs/user-guide/annotations'
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        description: 'Map of string keys and values that can be used
                          to organize and categorize (scope and select) objects. May
                          match selectors of replication controllers and services.
                          More info: http://kubernetes.io/docs/user-guide/labels'
                        type: object
                    type: object
                  spec:
                    description: ProxmoxClusterSpec defines the desired state of ProxmoxCluster.
                    properties:
                      allowedNodes:
                        description: AllowedNodes specifies all Proxmox nodes which
                          will be considered for operations. This implies that VMs
                          can be cloned on different nodes from the node which holds
                          the VM template.
                        items:
                          type: string
                        type: array
                      controlPlaneEndpoint:
                        description: ControlPlaneEndpoint represents the endpoint
                          used to communicate with the control plane.
                        properties:
                          host:
                            description: The hostname on which the API server is serving.
                            type: string
                          port:
                            description: The port on which the API server is serving.
                            format: int32
                            type: integer
                        required:
                        - host
                        - port
                        type: object
                      dnsServers:
                        description: DNSServers contains information about nameservers
                          used by machines network-config.
                        items:
                          type: string
                        minItems: 1
                        type: array
                      ipv4Config:
                        description: IPv4Config contains information about available
                          IPV4 address pools and the gateway. this can be combined
                          with ipv6Config in order to enable dual stack. either IPv4Config
                          or IPv6Config must be provided.
                        properties:
                          addresses:
                            description: Addresses is a list of IP addresses that
                              can be assigned. This set of addresses can be non-contiguous.
                            items:
                              type: string
                            type: array
                          gateway:
                            description: Gateway
                            type: string
                          prefix:
                            description: Prefix is the network prefix to use.
                            maximum: 128
                            type: integer
                        required:
                        - addresses
                        - prefix
                        type: object
                        x-kubernetes-validations:
                        - message: IPv4Config addresses must be provided
                          rule: self.addresses.size() > 0
                      ipv6Config:
                        description: IPv6Config contains information about available
                          IPV6 address pools and the gateway. this can be combined
                          with ipv4Config in order to enable dual stack. either IPv4Config
                          or IPv6Config must be provided.
                        properties:
                          addresses:
                            description: Addresses is a list of IP addresses that
                              can be assigned. This set of addresses can be non-contiguous.
                            items:
                              type: string
                            type: array
                          gateway:
                            description: Gateway
                            type: string
                          prefix:
                            description: Prefix is the network prefix to use.
                            maximum: 128
                            type: integer
                        required:
                        - addresses
                        - prefix
                        type: object
                        x-kubernetes-validations:
                        - message: IPv6Config addresses must be provided
                          rule: self.addresses.size() > 0
                      kubernetesVersion:
                        description: KubernetesVersion contains the version of kubernetes
                          installed by kubeadm
                        type: string
                      schedulerHints:
                        description: SchedulerHints allows to influence the decision
                          on where a VM will be scheduled. For example by applying
                          a multiplicator to a node's resources, to allow for overprovisioning
                          or to ensure a node will always have a safety buffer.
                        properties:
                          memoryAdjustment:
                            description: MemoryAdjustment allows to adjust a node's
                              memory by a given percentage. For example, setting it
                              to 300 allows to allocate 300% of a host's memory for
                              VMs, and setting it to 95 limits memory allocation to
                              95% of a host's memory. Setting it to 0 entirely disables
                              scheduling memory constraints. By default 100% of a
                              node's memory will be used for allocation.
                            format: int64
                            type: integer
                        type: object
                      sshAuthorizedKeys:
                        description: SshAuthorizedKeys contains the authorized keys
                          deployed to the PROXMOX VMs
                        items:
                          type: string
                        type: array
                      templateID:
                        description: TemplateID is the ID for the template used for
                          cloning proxmox VMs
                        type: integer
                      virtualIPNetworkInterface:
                        description: VirtualIPNetworkInterface is the interface used
                          by your VM
                        type: string
                    required:
                    - dnsServers
                    type: object
                required:
                - spec
                type: object
            required:
            - template
            type: object
          status:
            description: ProxmoxClusterTemplateStatus defines the observed state of
              ProxmoxClusterTemplate
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
